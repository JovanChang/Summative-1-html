<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: javascript.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: javascript.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Search Bar
 * @type {string}
 */

const search = document.getElementById('search_btn');

search.onclick = function () {
  window.alert('Could not find your search term');
};

const artsStats = document.getElementById('my_dataviz');

const artistsStats = document.getElementById('circular_barchart');

console.log(artistsStats);

console.log(artsStats);

const btn1 = document.getElementById('class_btn');

const btn2 = document.getElementById('nationality_btn');

btn1.onclick = function () {
  if (artsStats.style.display !== 'block') {
    artsStats.style.display = 'block';
  } else {
    artsStats.style.display = 'none';
  }
};

btn2.onclick = function () {
  if (artistsStats.style.display !== 'block') {
    artistsStats.style.display = 'block';
  } else {
    artistsStats.style.display = 'none';
  }
};
const reply = document.getElementById('contact_submit');
// const emailAddress = document.getElementById('exampleInputEmail1');
// const comments = document.getElementById('exampleInputComment');

reply.onclick = function () {
    window.alert('Thank you for leaving a message! You will be replied very soon');
};

// slideshow function from w3school: https://www.w3schools.com/howto/howto_js_slideshow.asp
let slideIndex = 1;
showSlides(slideIndex);

// Next/previous controls
// eslint-disable-next-line no-unused-vars
function plusSlides (n) {
  showSlides(slideIndex += n);
}

// Thumbnail image controls
// eslint-disable-next-line no-unused-vars
function currentSlide (n) {
  showSlides(slideIndex = n);
}

function showSlides (n) {
  let i;
  const slides = document.getElementsByClassName('mySlides');
  const dots = document.getElementsByClassName('dot');
  if (n > slides.length) { slideIndex = 1; }
  if (n &lt; 1) { slideIndex = slides.length; }
  for (i = 0; i &lt; slides.length; i++) {
    slides[i].style.display = 'none';
  }
  for (i = 0; i &lt; dots.length; i++) {
    dots[i].className = dots[i].className.replace(' active', '');
  }
  slides[slideIndex - 1].style.display = 'block';
  dots[slideIndex - 1].className += ' active';
}

/* eslint-disable no-undef */
// d3.csv("/dataset/artworks.csv", function(data) {
//     console.log(data);
// });
// d3.csv("/dataset/artworks_class.csv", function(data) {
//     console.log(data);
// })

// set the dimensions and margins of the graph

const margin = { top: 80, right: 60, bottom: 100, left: 60 };
const width = 1200 - margin.left - margin.right;
const height = 1000 - margin.top - margin.bottom;

// append the svg object to the body of the page
const svg = d3.select('#my_dataviz')
  .append('svg')
  .attr('width', width + margin.left + margin.right)
  .attr('height', height + margin.top + margin.bottom)
  .append('g')
  .attr('transform', `translate(${margin.left}, ${margin.top})`);

// Parse the Data
d3.csv('/dataset/artworks.csv').then(function (data) {
  const result = [];

  data.forEach(function (a) {
    if (!this[a.Classification]) {
        this[a.Classification] = {
            Classification: a.Classification,
            orders: 0
        };
        result.push(this[a.Classification]);
    }
    this[a.Classification].orders += 1;
}, Object.create(null));

  // sort data
  result.sort(function (b, a) {
    return a.orders - b.orders;
  });
  // X axis
  const x = d3.scaleBand()
    .range([0, width])
    .domain(result.map(d => d.Classification))
    .padding(0.2);
  svg.append('g')
    .attr('transform', `translate(0, ${height})`)
    .call(d3.axisBottom(x))
    .selectAll('text')
    .attr('transform', 'translate(-10,0)rotate(-45)')
    .style('text-anchor', 'end');

  // Add Y axis
  const y = d3.scaleLinear()
    .domain([0, 35000])
    .range([height, 0]);
  svg.append('g')
    .call(d3.axisLeft(y));

  // Bars
  svg.selectAll('mybar')
    .data(result)
    .enter()
    .append('rect')
    .attr('x', d => x(d.Classification))
    .attr('y', d => y(d.orders))
    .attr('width', x.bandwidth())
    .attr('height', d => height - y(d.orders))
    .attr('fill', '#69b3a2')
    .append('title')
    .text((result) => {
      return result.orders;
    });

  svg.append('text')
    .attr('x', (width / 2))
    .attr('y', 0 - (margin.top / 2))
    .attr('text-anchor', 'middle')
    .style('font-size', '16px')
    .style('text-decoration', 'underline')
    .text('Top catorgeries of artworks in the museum');
});

/* eslint-disable no-undef */
// set the dimensions and margins of the graph
const margin1 = { top: 100, right: 0, bottom: 0, left: 0 };
    const width1 = 1200 - margin1.left - margin1.right;
    const height1 = 800 - margin1.top - margin1.bottom;
    const innerRadius = 90;
    const outerRadius = Math.min(width1, height1) / 2; // the outerRadius goes from the middle of the SVG area to the border

// append the svg object
const svg1 = d3.select('#circular_barchart')
  .append('svg')
    .attr('width', width1 + margin1.left + margin1.right)
    .attr('height', height1 + margin1.top + margin1.bottom)
  .append('g')
    .attr('transform', `translate(${width1 / 2 + margin1.left}, ${height1 / 2 + margin1.top})`);

    d3.csv('/dataset/artists.csv').then(function (data) {
      const result = [];

      data.forEach(function (a) {
        if (!this[a.Nationality]) {
            this[a.Nationality] = {
                Nationality: a.Nationality,
                orders: 0
            };
            result.push(this[a.Nationality]);
        }
        this[a.Nationality].orders += 1;
    }, Object.create(null));
    console.log(result);
  // sort data
  result.sort(function (b, a) {
    return a.orders - b.orders;
  });
  // Scales
  const x = d3.scaleBand()
      .range([0, 2 * Math.PI]) // X axis goes from 0 to 2pi = all around the circle. If I stop at 1Pi, it will be around a half circle
      .align(0) // This does nothing
      .domain(data.map(d => d.Nationality)); // The domain of the X axis is the list of states.
  const y = d3.scaleRadial()
      .range([innerRadius, outerRadius]) // Domain will be define later.
      .domain([0, 4000]); // Domain of Y is from 0 to the max seen in the data

  // Add the bars
  svg1.append('g')
    .selectAll('path')
    .data(result)
    .join('path')
      .attr('fill', '#69b3a2')
      .attr('d', d3.arc() // imagine your doing a part of a donut plot
          .innerRadius(innerRadius)
          .outerRadius(d => y(d.orders))
          .startAngle(d => x(d.Nationality))
          .endAngle(d => x(d.Nationality) + x.bandwidth())
          .padAngle(0.01)
          .padRadius(innerRadius))
          .append('title')
      .text((result) => {
        return 'Nationality: ' + result.Nationality + ' Value: ' + result.orders;
      });

      svg1.append('text')
      .attr('x', (height1 / 2))
      .attr('y', 0 - (margin1.left / 2))
      .attr('text-anchor', 'middle')
      .style('font-size', '16px')
      .style('text-decoration', 'underline')
      .text('Hover over bars to see the nationality');
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#search">search</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Thu Dec 01 2022 21:26:58 GMT+0000 (格林威治標準時間)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
